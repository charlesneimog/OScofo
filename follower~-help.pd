#N canvas 6 31 951 1011 10;
#X declare -lib timbreIDLib;
#X declare -lib timbreIDLib;
#X obj 29 161 tabplay~ synrix;
#X obj 29 8 bng 60 250 50 0 empty empty empty 17 7 0 10 #e4e4e4 #000000 #373737;
#X obj 59 229 dac~;
#X obj 671 322 loadbang;
#X msg 98 8 stop;
#X msg 105 50 set bach;
#X msg 121 80 set synrix;
#X obj 29 560 nbx 13 26 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10 #e4e4e4 #373737 #373737 0 256;
#X msg 562 356 quality \$1;
#X obj 562 322 nbx 4 18 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10 #e4e4e4 #373737 #373737 0 256;
#X obj 29 595 change;
#X msg 671 356 tunning 440;
#X msg 313 306 score ./Resources/syrinx.txt;
#X obj 313 267 loadbang;
#X msg 47 298 start;
#X obj 259 176 switch~;
#X obj 259 99 else/loop;
#X obj 259 76 nbx 4 18 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10 #e4e4e4 #373737 #373737 0 256;
#X obj 259 8 bng 60 250 50 0 empty empty empty 17 7 0 10 #e4e4e4 #000000 #373737;
#X obj 259 128 bng 25 250 50 0 empty empty empty 17 7 0 10 #e4e4e4 #000000 #373737;
#N canvas 0 0 450 250 (subpatch) 0;
#X array freq 4096 float 2;
#X coords 0 90 4096 72 326 220 1;
#X restore 518 76 graph;
#N canvas 733 172 450 300 Arrays 0;
#N canvas 0 0 450 250 (subpatch) 0;
#X array synrix 547200 float 2;
#X coords 0 1 547200 -1 422 81 1;
#X restore 653 32 graph;
#X obj 9 69 soundfiler;
#X msg 9 39 read -resize ./Resources/debussy.wav synrix;
#X obj 9 166 soundfiler;
#X msg 9 136 read -resize ./Resources/BWV-1013.wav bach;
#N canvas 0 0 450 250 (subpatch) 0;
#X array bach 695600 float 2;
#X coords 0 1 695600 -1 422 82 1;
#X restore 653 139 graph;
#X obj 117 195 unpack f;
#X obj 420 52 samplerate~;
#X obj 420 23 loadbang;
#X obj 117 265 expr if($f1 != $f2 \, 1 \, 0);
#X obj 117 294 sel 1;
#X obj 117 367 print;
#X msg 117 323 SampleRate is diferent. This will not work;
#X connect 1 1 6 0;
#X connect 2 0 1 0;
#X connect 3 1 6 0;
#X connect 4 0 3 0;
#X connect 6 0 9 0;
#X connect 7 0 9 1;
#X connect 7 0 2 0;
#X connect 7 0 4 0;
#X connect 8 0 7 0;
#X connect 9 0 10 0;
#X connect 10 0 12 0;
#X connect 12 0 11 0;
#X restore 338 8 pd Arrays;
#X obj 337 103 tgl 54 0 empty empty empty 17 7 0 10 #e4e4e4 #000000 #373737 0 1;
#X obj 308 613 nbx 20 41 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10 #e4e4e4 #373737 #373737 0 256;
#X obj 313 236 declare -lib timbreIDLib;
#X obj 422 116 bng 25 250 50 0 empty empty empty 17 7 0 10 #e4e4e4 #232323 #373737;
#X obj 29 528 follower~, f 50;
#X obj 98 338 play.file~;
#X msg 98 298 start;
#X msg 308 470 score ./Resources/bach2.txt;
#X obj 692 8 declare -lib timbreIDLib;
#N canvas 0 50 450 300 (subpatch) 0;
#N canvas 948 307 726 541 get-most-present-pitch-class 0;
#X obj 37 37 inlet;
#X obj 103 312 list prepend 0;
#X obj 103 333 s \$0-chroma-graph;
#X msg 37 369 max;
#X obj 37 390 tabletool \$0-chroma-graph;
#X obj 266 447 list store;
#X obj 333 386 loadbang;
#X msg 266 421 get \$1 1;
#X msg 333 407 C C-sharp D D-sharp E F F-sharp G G-sharp A A-sharp B;
#X obj 266 468 outlet;
#X obj 37 58 t b l l;
#X obj 153 102 list length;
#X obj 183 143 pack f \$0;
#X msg 183 164 \; \$2-chroma-graph resize \$1 \;;
#X obj 153 213 / 12;
#X obj 266 377 /;
#X obj 266 398 i;
#X text 201 211 In "half" or "third" mode \, there are 24 or 36 elements in the HPCP \, so to locate the right pitch class symbol in the list below \, we need to divide the index by 2 or 3;
#X connect 0 0 10 0;
#X connect 1 0 2 0;
#X connect 3 0 4 0;
#X connect 4 1 15 0;
#X connect 5 0 9 0;
#X connect 6 0 8 0;
#X connect 7 0 5 0;
#X connect 8 0 5 1;
#X connect 10 0 3 0;
#X connect 10 1 1 0;
#X connect 10 2 11 0;
#X connect 11 0 12 0;
#X connect 11 0 14 0;
#X connect 12 0 13 0;
#X connect 14 0 15 1;
#X connect 15 0 16 0;
#X connect 16 0 7 0;
#X restore 69 160 pd get-most-present-pitch-class;
#X symbolatom 69 191 10 0 0 0 - - - 0;
#X obj 69 100 chroma~ 4096 50 5000 0.1;
#X obj 59 23 inlet~;
#X obj 69 216 print;
#X obj 294 45 inlet;
#N canvas 0 50 450 300 (subpatch) 0;
#X array \$0-chroma-graph 12 float 2;
#X coords 0 10 12 0 200 140 1 0 0;
#X restore 337 183 graph;
#X connect 0 0 1 0;
#X connect 1 0 4 0;
#X connect 2 0 0 0;
#X connect 3 0 2 0;
#X connect 5 0 2 0;
#X restore 128 229 pd;
#X obj 153 165 bng 25 250 50 0 empty empty empty 17 7 0 10 #e4e4e4 #232323 #373737;
#X obj 190 278 r chroma;
#X obj 190 307 print;
#X connect 0 0 2 0;
#X connect 0 0 2 1;
#X connect 0 0 26 0;
#X connect 0 0 31 0;
#X connect 1 0 0 0;
#X connect 3 0 11 0;
#X connect 4 0 0 0;
#X connect 5 0 0 0;
#X connect 6 0 0 0;
#X connect 7 0 10 0;
#X connect 9 0 8 0;
#X connect 12 0 26 0;
#X connect 13 0 12 0;
#X connect 14 0 26 0;
#X connect 16 0 19 0;
#X connect 17 0 16 0;
#X connect 18 0 17 0;
#X connect 19 0 15 0;
#X connect 22 0 15 0;
#X connect 26 0 7 0;
#X connect 26 1 23 0;
#X connect 27 0 26 0;
#X connect 28 0 27 0;
#X connect 29 0 26 0;
#X connect 32 0 31 1;
#X connect 33 0 34 0;
